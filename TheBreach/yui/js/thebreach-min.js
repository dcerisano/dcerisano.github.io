function init(){breach_init()}function myEval(code){return eval(code)}function breach_init(){var a=false;var A=false;var f=false;var R=false;var o=false;var P=null;var i=null;var t=null;var S=null;var e=null;var I=null;var z=null;var D=null;var m=null;var h=null;var r=null;var x=null;var y=null;var T=0;var v="WlhaaGJDaGhkRzlpS0dGMGIySW9JbGRzYUdGaFIwcEVZVWRvYTFKNmJIQlRNR1JIVFVkSmVWTlhPVXBpUjNnd1ZGWmFhMVJyTVVobFJXaFhVbnBCTVZZeWVHdFNiVTVKVkd4b2FFMVlRbmxYYTJONFZESlNTRlZyYUd4U00wSnZWbXBLVTJReFpITlhiVGxYVFdzMVIxcEVUbk5oYkU1SlVXczFWVll6UWtoVVYzaHJZMnh3UjFwSGNFNVRSMmhhVmtaYWIxRXlSbGhTYkZaWFltMW9ZVlJVU2pSVE1XdDNWbFJXVGsxVlNsWlVWVkYzWVZWMFZHRXpRbEJrZWpBNUlpa3BLVHM9";function Q(){password=document.getElementById("password");a=document.getElementById("main");A=document.getElementById("entrance");P=document.getElementById("websocket");i=document.getElementById("message");D=document.getElementById("response_text");t=document.getElementById("wss");S=document.getElementById("ws");e=document.getElementById("open");I=document.getElementById("close");z=document.getElementById("send");reset=document.getElementById("reset");password.onkeydown=w;P.onkeydown=g;P.onclick=K;i.onkeydown=L;I.onclick=K;e.onclick=E;z.onclick=F;reset.onclick=J;t.onclick=l;S.onclick=H;m=new Audio("./img/siren.ogg");h=new Audio("./img/sneak.ogg");x=new Audio("./img/error.ogg");J();C()}function l(U){P.value="wss://echo.websocket.org";if(f){K(U)}reset.style.opacity=1;e.style.backgroundColor="green";z.style.backgroundColor="green"}function H(U){P.value="ws://echo.websocket.org";if(f){K(U)}reset.style.opacity=1;e.style.backgroundColor="blue";z.style.backgroundColor="blue"}function k(){a.style.display="block";A.style.display="none"}function w(U){if(U.keyCode==13){q("ready",password.value)}}function L(U){if(U.keyCode==13){F()}}function g(U){if(U.keyCode==13){E()}}function E(U){if(f){return}f=true;e.style.opacity=0.25;y=P.value;q("open",y);m.load()}function K(U){if(!f){return}I.style.opacity=0.25;q("close",null)}function F(U){if(!f){return}if(R){responses.style.backgroundImage='url("img/hole2.jpg")';h.onloadedmetadata=function(){clearTimeout(r);h.currentTime=(Math.random()*4).toFixed(0);h.play();r=setTimeout(b,1000)};h.load()}T++;s();q("send","#"+T+" "+i.value);z.style.opacity=0.5}function J(U){P.value="ws://echo.websocket.org";i.value="Into The Breach";D.innerHTML="";e.style.opacity=1;I.style.opacity=0.25;z.style.opacity=0.25;reset.style.opacity=0.25;e.style.backgroundColor="blue";z.style.backgroundColor="blue";responses.style.backgroundImage="none";y=P.value;h.pause();clearTimeout(r);if(f){o=true;K(U)}}function n(){T=0;var U=window.location.protocol;var V=y.lastIndexOf("ws:",0);if(V==0){V="ws:"}else{V="wss:"}if(U=="https:"&&V=="ws:"){R=true;responses.style.backgroundImage='url("img/hole.jpg")';m.play();d("<font color='red'>SECURITY CHECK FAILED</font>")}else{R=false;d("<font color='green'>SECURITY CHECK PASSED</font>")}e.style.opacity=0.25;I.style.opacity=1;z.style.opacity=1;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;d(B()+" OPENED");F()}function G(){f=false;R=false;responses.style.backgroundImage="none";e.style.opacity=1;I.style.opacity=0.25;z.style.opacity=0.25;m.pause();m.load();if(!o){d(B()+" CLOSED")}else{o=false}}function p(U){z.style.opacity=1;d(B()+" REPLIED:<BR>&nbsp;&nbsp;<i>"+U+"</i>")}function j(){f=false;R=false;e.style.opacity=1;I.style.opacity=0.25;z.style.opacity=0.25;responses.style.backgroundImage="none";document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;x.pause();x.load();x.play();d(B()+"<font color='red' > ERROR<BR>&nbsp;&nbsp;ADDRESS REJECTED</font>")}function u(){f=false;R=false;e.style.opacity=1;I.style.opacity=0.25;z.style.opacity=0.25;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;x.pause();x.load();x.play();d("<font color='red'>THE BREACH IS<BR>NOT YET POSSIBLE<BR>IN THIS BROWSER VERSION<font>")}function N(){f=false;R=false;e.style.opacity=1;I.style.opacity=0.25;z.style.opacity=0.25;responses.style.backgroundImage="none";x.play();d(B()+"<font color='red'> TIMEOUT<font>")}function d(U){D.innerHTML=D.innerHTML+U+"<BR><BR>";M()}function s(){if(O!=null){if(window.location.protocol=="https:"){d("<font color='green'>&#x1f512; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;<i>#"+T+" "+i.value)+"</i>"}else{d("<font color='blue' >&#x1f513; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;<i>#"+T+" "+i.value)+"</i>"}}}function B(){var U=y.split("/");if(U[0]=="ws:"&&R){return"<font color='red'>&#x1f513; "+U[0]+"</font>//"+U[2]}else{if(U[0]=="wss:"){return"<font color='green'>&#x1f512; "+U[0]+"</font>//"+U[2]}else{return"<font color='blue '>&#x1f513; "+U[0]+"</font>//"+U[2]}}}function M(){$("#responses").stop(true).animate({scrollTop:$("#response_text").height()},500);reset.style.opacity=1}function b(){h.pause();if(R){responses.style.backgroundImage='url("img/hole.jpg")'}else{responses.style.backgroundImage="none"}}var O=null;function C(){try{O=myEval(atob(atob(v)))}catch(U){u();return}O.port.onmessage=c;O.port.start()}function c(U){if(U.data=="ready"){k();return}if(U.data=="open"){n();return}if(U.data=="close"){G();return}if(U.data=="error"){j();return}if(U.data=="timeout"){N();return}p(U.data)}function q(W,V){var U=new Object();U.method=W;U.params=V;if(O!=null){O.port.postMessage(U)}else{u()}}return Q()};