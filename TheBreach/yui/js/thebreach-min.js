function init(){breach_init()}function myEval(code){return eval(code)}function breach_init(){var a=false;var B=false;var f=false;var S=false;var o=false;var Q=null;var i=null;var t=null;var T=null;var e=null;var J=null;var A=null;var E=null;var l=null;var h=null;var r=null;var y=null;var z=null;var U=0;var v="WlhaaGJDaGhkRzlpS0dGMGIySW9JbGRzYUdGaFIwcEVZVWRvYTFKNmJIQlRNR1JIVFVkSmVWTlhPVXBpUjNnd1ZGWmFhMVJyTVVobFJXaFhVbnBCTVZZeWVHdFNiVTVKVkd4b2FFMVlRbmxYYTJONFZESlNTRlZyYUd4U00wSnZWbXBLVTJReFpITlhiVGxYVFdzMVIxcEVUbk5oYkU1SlVXczFWVll6UWtoVVYzaHJZMnh3UjFwSGNFNVRSMmhhVmtaYWIxRXlSbGhTYkZaWFltMW9ZVlJVU2pSVE1XdDNWbFJXVGsxVlNsWlVWVkYzWVZWMFZHRXpRbEJrZWpBNUlpa3BLVHM9";function R(){password=document.getElementById("password");a=document.getElementById("main");B=document.getElementById("entrance");Q=document.getElementById("websocket");i=document.getElementById("message");E=document.getElementById("response_text");t=document.getElementById("wss");T=document.getElementById("ws");e=document.getElementById("open");J=document.getElementById("close");A=document.getElementById("send");reset=document.getElementById("reset");password.onkeydown=x;Q.onkeydown=g;Q.onclick=L;i.onkeydown=M;J.onclick=L;e.onclick=F;A.onclick=G;reset.onclick=K;t.onclick=k;T.onclick=I;l=new Audio("./img/siren.ogg");h=new Audio("./img/sneak.ogg");y=new Audio("./img/error.ogg");K();D()}function k(V){Q.value="wss://echo.websocket.org";if(f){L(V)}reset.style.opacity=1;e.style.backgroundColor="green";A.style.backgroundColor="green"}function I(V){Q.value="ws://echo.websocket.org";if(f){L(V)}reset.style.opacity=1;e.style.backgroundColor="blue";A.style.backgroundColor="blue"}function w(){a.style.display="block";B.style.display="none";y.load()}function x(V){if(V.keyCode==13){q("ready",password.value);y.play()}}function M(V){if(V.keyCode==13){G()}}function g(V){if(V.keyCode==13){F()}}function F(V){if(f){return}n();f=true;e.style.opacity=0.25;z=Q.value;q("open",z);l.load()}function L(V){if(!f){return}J.style.opacity=0.25;q("close",null)}function G(V){if(!f){return}if(S){responses.style.backgroundImage='url("img/hole2.jpg")';h.onloadedmetadata=function(){clearTimeout(r);h.currentTime=(Math.random()*4).toFixed(0);h.play();r=setTimeout(b,1000)};h.load()}U++;s();q("send","#"+U+" "+i.value);A.style.opacity=0.5}function K(V){Q.value="ws://echo.websocket.org";i.value="Into The Breach";E.innerHTML="";e.style.opacity=1;J.style.opacity=0.25;A.style.opacity=0.25;reset.style.opacity=0.25;e.style.backgroundColor="blue";A.style.backgroundColor="blue";responses.style.backgroundImage="none";z=Q.value;h.pause();clearTimeout(r);if(f){o=true;L(V)}}function m(){U=0;var V=window.location.protocol;var W=z.lastIndexOf("ws:",0);if(W==0){W="ws:"}else{W="wss:"}if(V=="https:"&&W=="ws:"){S=true;responses.style.backgroundImage='url("img/hole.jpg")';l.play();d("<font color='red'>SECURITY CHECK FAILED</font>")}else{S=false;d("<font color='green'>SECURITY CHECK PASSED</font>")}e.style.opacity=0.25;J.style.opacity=1;A.style.opacity=1;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;d(C()+" OPENED");G()}function H(){f=false;S=false;responses.style.backgroundImage="none";e.style.opacity=1;J.style.opacity=0.25;A.style.opacity=0.25;l.pause();l.load();if(!o){d(C()+" CLOSED")}else{o=false}}function p(V){A.style.opacity=1;d(C()+" REPLIED:<BR>&nbsp;&nbsp;<i>"+V+"</i>")}function j(){f=false;S=false;e.style.opacity=1;J.style.opacity=0.25;A.style.opacity=0.25;responses.style.backgroundImage="none";document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;y.pause();y.load();y.play();d(C()+"<font color='red' > ERROR<BR>&nbsp;&nbsp;ADDRESS REJECTED</font>")}function u(){f=false;S=false;e.style.opacity=1;J.style.opacity=0.25;A.style.opacity=0.25;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;y.pause();y.load();y.play();d("<font color='red'>THE BREACH IS<BR>NOT YET POSSIBLE<BR>IN THIS BROWSER VERSION<font>")}function O(){f=false;S=false;e.style.opacity=1;J.style.opacity=0.25;A.style.opacity=0.25;responses.style.backgroundImage="none";y.play();d(C()+"<font color='red'> TIMEOUT<font>")}function d(V){E.innerHTML=E.innerHTML+V+"<BR><BR>";N()}function s(){if(P!=null){if(window.location.protocol=="https:"){d("<font color='green'>&#x1f512; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;<i>#"+U+" "+i.value)+"</i>"}else{d("<font color='blue' >&#x1f513; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;<i>#"+U+" "+i.value)+"</i>"}}}function n(){if(P!=null){if(window.location.protocol=="https:"){d("<font color='green'>&#x1f512; "+window.location.protocol+"</font>//"+window.location.hostname+" OPENING")}else{d("<font color='blue' >&#x1f513; "+window.location.protocol+"</font>//"+window.location.hostname+" OPENING")}}}function C(){var V=z.split("/");if(V[0]=="ws:"&&S){return"<font color='red'>&#x1f513; "+V[0]+"</font>//"+V[2]}else{if(V[0]=="wss:"){return"<font color='green'>&#x1f512; "+V[0]+"</font>//"+V[2]}else{return"<font color='blue '>&#x1f513; "+V[0]+"</font>//"+V[2]}}}function N(){$("#responses").stop(true).animate({scrollTop:$("#response_text").height()},500);reset.style.opacity=1}function b(){h.pause();if(S){responses.style.backgroundImage='url("img/hole.jpg")'}else{responses.style.backgroundImage="none"}}var P=null;function D(){try{P=myEval(atob(atob(v)))}catch(V){u();return}P.port.onmessage=c;P.port.start()}function c(V){if(V.data=="ready"){w();return}if(V.data=="open"){m();return}if(V.data=="close"){H();return}if(V.data=="error"){j();return}if(V.data=="timeout"){O();return}p(V.data)}function q(X,W){var V=new Object();V.method=X;V.params=W;if(P!=null){P.port.postMessage(V)}else{u()}}return R()};