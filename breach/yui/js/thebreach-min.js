function init(){breach_init()}function breach_init(){var D=null;var B=null;var a=null;var y=null;var f=false;var W=false;var Z=true;var n=false;var k=false;var L=false;var g=null;var c=null;var h=null;var K=null;var J=null;var x=null;var S=null;var C=null;var o=null;var aa=0;var u="WlhaaGJDaGhkRzlpS0dGMGIySW9JbGRzYUdGaFIwcEVZVWRvYTFKNmJIQlRNR1JIVFVkSmVWTlhPVXBpUjNnd1ZGWmFhMVJyTVVobFJXaFhVbnBCTVZZeWVHdFNiVTVKVkd4b2FFMVlRbmxYYTJONFZESlNTRlZyYUd4U00wSnZWbXBLVTJReFpITlhiVGxYVFdzMVIxcEVUbk5oYkU1SlVXczFWVll6UWtoVVYzaHJZMnh3UjFwSGNFNVRSMmhhVmtaYWIxRXlSbGhTYkZaWFltMW9ZVlJVU2pSVE1XdDNWbFJXVGsxVlNsWlVWVkYzWVZWMFZHRXpRbEJrZWpBNUlpa3BLVHM9";var p=["ws://echo.websocket.org","wss://echo.websocket.org","http://standard3d.com/breach/xhr.txt","https://standard3d.com/breach/xhr.txt"];var F=0;function U(){i();document.body.style.opacity=1;D=document.getElementById("login");B=document.getElementById("password");a=document.getElementById("main");y=document.getElementById("entrance");c=document.getElementById("url");h=document.getElementById("message");S=document.getElementById("responses");C=document.getElementById("response_text");K=document.getElementById("ssl_nossl");J=document.getElementById("open_close");x=document.getElementById("send");reset=document.getElementById("reset");B.onkeydown=w;c.onkeyup=V;c.onclick=O;h.onkeydown=P;K.onclick=b;J.onclick=z;x.onclick=H;reset.onclick=N;C.onclick=G;N();A()}function b(ab){F++;if(F==4){F=0}c.value=p[F];s(ab)}function s(ac){console.log(c.value);var ab=c.value.split("/");console.log(ab[0]);if(ab[0]=="wss:"||ab[0]=="https:"){K.value="SSL";K.style.backgroundColor="green";J.style.backgroundColor="green";x.style.backgroundColor="green"}else{K.value="NO SSL";K.style.backgroundColor="darkblue";J.style.backgroundColor="darkblue";x.style.backgroundColor="darkblue"}if(f){O(ac)}C.innerHTML="";reset.style.opacity=1}function z(ab){if(!Z){t();return}if(J.value=="OPEN"){E()}else{O()}C.innerHTML="";reset.style.opacity=1}function v(){a.style.display="block";y.style.display="none";B.blur();document.body.style.webkitTransform=document.body.style.msTransform=document.body.style.transform="scale(1)"}function w(ab){if(ab.keyCode==13){q("ready",B.value);B.style.backgroundColor="gray";return}B.style.backgroundColor="white"}function P(ab){if(ab.keyCode==13){H()}}function V(ab){if(ab.keyCode==13){E()}else{s(ab)}}function E(ab){if(f){return}f=true;o=c.value;q("open",o);C.innerHTML="";J.value="OPENING";M()}function O(ab){if(!f){return}q("close",null);J.value="CLOSING"}function H(ab){if(!f){return}aa++;r();q("send","#"+aa+" "+h.value)}function N(ab){F=0;c.value=p[0];h.value="Into The Breach ...";C.innerHTML="";x.style.opacity=0;reset.style.opacity=0;K.value="NO SSL";K.style.backgroundColor="darkblue";J.value="OPEN";J.style.backgroundColor="darkblue";x.style.backgroundColor="darkblue";M();c.value="ws://echo.websocket.org";o=c.value;if(f){n=true;O(ab)}}function G(ab){if(k){S.style.backgroundSize="auto"}else{S.style.backgroundSize="0 0"}k=!k}function m(){aa=0;var ab=window.location.protocol;var ac=o.lastIndexOf("ws:",0);if(ac==0){ac="ws:"}else{ac="wss:"}if(ab=="https:"&&ac=="ws:"){W=true;if(g!=null){clearTimeout(g)}g=setTimeout(Y,500)}else{W=false}x.style.opacity=1;reset.style.opacity=1;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;J.value="CLOSE";M()}function I(){f=false;W=false;x.style.opacity=0;reset.style.opacity=1;if(n){n=false;reset.style.opacity=0}J.value="OPEN";M()}function X(ab){x.style.opacity=1;e(l()+" REPLIED:<BR>&nbsp;&nbsp;&nbsp;<i>"+ab+"</i>")}function j(){f=false;W=false;x.style.opacity=0;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;e(l()+"<font color='red' > ERROR:<BR>&nbsp;&nbsp;&nbsp;BROWSER REJECTED ADDRESS</font>");J.value="OPEN"}function t(){f=false;W=false;Z=false;x.style.opacity=0;document.body.scrollTop=document.body.scrollHeight-document.body.clientHeight;D.innerHTML="<font color='red'>THE BREACH IS NOT IN<BR>THIS BROWSER VERSION</font> YET";e("<font color='red'>THE BREACH IS NOT IN<BR>THIS BROWSER VERSION</font> YET");J.value="OPEN"}function R(){f=false;W=false;x.style.opacity=0;e(l()+"<font color='red'> TIMEOUT<font>");J.value="OPEN"}function e(ab){C.innerHTML=C.innerHTML+ab+"<BR><BR>";Q();M();k=false}function r(){if(T!=null){if(window.location.protocol=="https:"){e("<font color='green'>&#x1f512; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;&nbsp;<i>#"+aa+" "+h.value)+"</i>"}else{if(window.location.protocol=="http:"){e("<font color='blue' >&#x1f513; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;&nbsp;<i>#"+aa+" "+h.value)+"</i>"}else{e("<font color='gray' >&#x1f513; "+window.location.protocol+"</font>//"+window.location.hostname+" SENT:<BR>&nbsp;&nbsp;&nbsp;<i>#"+aa+" "+h.value)+"</i>"}}}}function l(){var ab=o.split("/");if((ab[0]=="ws:"||ab[0]=="http:")&&W){return"<font color='red'>&#x1f513; "+ab[0]+"</font>//"+ab[2]}else{if(ab[0]=="wss:"||ab[0]=="https:"){return"<font color='green'>&#x1f512; "+ab[0]+"</font>//"+ab[2]}else{return"<font color='blue '>&#x1f513; "+ab[0]+"</font>//"+ab[2]}}}function Q(){S.scrollTop=C.scrollHeight;reset.style.opacity=1}function M(){C.style.opacity=1;S.style.backgroundSize="auto";if(!f){if(window.location.protocol=="https:"){S.style.backgroundImage='url("img/idle-https.jpg")'}if(window.location.protocol=="http:"){S.style.backgroundImage='url("img/idle-http.jpg")'}if(window.location.protocol=="file:"){S.style.backgroundImage='url("img/idle.jpg")'}return}var ab=window.location.protocol;var ac=o.split("/")[0];if((ac=="ws:"||ac=="http:")&&ab=="http:"){S.style.backgroundImage='url("img/ws-http.jpg")'}if((ac=="ws:"||ac=="http:")&&ab=="https:"){S.style.backgroundImage='url("img/ws-https.jpg")'}if((ac=="wss:"||ac=="https:")&&ab=="http:"){S.style.backgroundImage='url("img/wss-http.jpg")'}if((ac=="wss:"||ac=="https:")&&ab=="https:"){S.style.backgroundImage='url("img/wss-https.jpg")'}}function i(){var ad=["img/ws-https.jpg","img/wss-https.jpg","img/ws-http.jpg","img/wss-http.jpg","img/idle.jpg","img/idle-http.jpg","img/idle-https.jpg"];for(var ac=0;ac<ad.length;ac++){var ab=new Image();ab.src=ad[ac]}}function Y(){if(W){if(g!=null){clearTimeout(g)}g=setTimeout(Y,500)}else{return}if(L){S.style.backgroundImage='url("img/ws-https.jpg")'}else{S.style.backgroundImage='url("img/idle.jpg")'}L=!L}var T=null;function A(){try{T=yui_escape(atob(atob(u)))}catch(ab){t();return}T.port.onmessage=d;T.port.start()}function d(ab){if(ab.data=="ready"){v();return}if(ab.data=="open"){m();return}if(ab.data=="close"){I();return}if(ab.data=="error"){j();return}if(ab.data=="timeout"){R();return}X(ab.data)}function q(ad,ac){var ab=new Object();ab.method=ad;ab.params=ac;if(T!=null){T.port.postMessage(ab)}else{t()}}return U()}function yui_escape(seq){return eval(seq)};