model_init();function model_init(){var i=5000;var b=null;var d=null;var j=null;self.addEventListener("connect",function(n){b=n.ports[0];b.addEventListener("message",function(o){if(o.data.method=="ready"){k(o.data.params)}if(o.data.method=="open"){m(o.data.params)}if(o.data.method=="send"){e(o.data.params)}if(o.data.method=="close"){l()}},false);b.start()},false);function k(n){if(n==atob(atob("WkdWelpYSjA="))){b.postMessage("ready")}}function m(o){if(j!=null){clearTimeout(j)}j=setTimeout(h,i);try{d=new WebSocket(o)}catch(n){c(n)}d.onopen=f;d.onclose=g;d.onerror=c;d.onmessage=a}function e(n){if(d!=null){d.send(n)}else{b.postMessage("error")}}function l(){if(d!=null){d.close()}}function f(){clearTimeout(j);b.postMessage("open")}function a(n){clearTimeout(j);b.postMessage(n.data)}function g(n){clearTimeout(j);b.postMessage("close")}function c(n){clearTimeout(j);b.postMessage("error")}function h(){clearTimeout(j);if(d!=null){d.onopen=null;d.onclose=null;d.onerror=null;d=null}b.postMessage("timeout")}};