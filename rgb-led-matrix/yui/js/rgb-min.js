function init(){rgb_led_matrix_init()}function rgb_led_matrix_init(){var g=true,w=null,m=8,k=1,x=1,z=false,n=new Uint8Array(m*k*3),h=document.getElementById("matrix"),d=h.getContext("2d"),y=window.innerWidth,b=window.innerHeight,v=y/(m+1),o=b/(k+1),l=v*0.4,q=0,p=0;function e(){y=window.innerWidth;b=window.innerHeight;console.log(y);q=0;p=0;h.width=y;h.height=b;h.style.width=y;h.style.height=b;v=y/(m+1);o=b/(k+1);if(v>o){v=o}else{o=v}p=(b-o*(k+1))/2;q=(y-v*(m+1))/2;l=v*0.4}function s(){for(i=0;i<k;i++){for(j=0;j<m;j++){var B=v*(j+1),C=o*(i+1);r(B,C,l,f(i,j))}}setTimeout(s,1000/x)}function f(G,D){var F=n[(G*k+D)+0],E=n[(G*k+D)+1],B=n[(G*k+D)+2],C=B|(E<<8)|(F<<16);return"#"+C.toString(16)}function r(C,E,B,D){d.beginPath();d.arc(C+q,E+p,B,0,2*Math.PI,false);d.fillStyle=D;d.fill();d.lineWidth=2;d.strokeStyle="#111111";d.stroke()}function t(B){try{w=new WebSocket(B);w.onopen=u;w.onclose=websocket_onclose;w.onerror=websocket_onerror;w.onmessage=function(D){websocket_onmessage(D)}}catch(C){g&&console.log("WEBSOCKET CONNECT ERROR");g&&console.log(C.message)}}function u(){g&&console.log("WEBSOCKET OPEN");w=this}function a(B){g&&console.log("WEBSOCKET ONMESSAGE");console.log(B.data)}function A(B){g&&console.log("WEBSOCKET ONCLOSE");w=null}function c(B){g&&console.log("WEBSOCKET ONERROR");g&&console.log(B.message)}e();s();document.getElementsByTagName("BODY")[0].onresize=e;t("ws://localhost:8080")};