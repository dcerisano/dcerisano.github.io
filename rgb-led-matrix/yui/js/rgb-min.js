function init(){rgb_led_matrix_init()}function rgb_led_matrix_init(){var l=true,z=null,p=8,n=1,A=1,D=false,q=new Uint8Array(p*n*3),m=document.getElementById("matrix"),h=m.getContext("2d"),B=window.innerWidth,e=window.innerHeight,y=B/(p+1),r=e/(n+1),o=y*0.4,t=0,s=0;function d(F){F="ws://localhost:5000";try{socket=new WebSocket(F);socket.onopen=a;socket.onclose=C;socket.onerror=b;socket.onmessage=function(H){c(H)}}catch(G){console.log("CONNECT ERROR");console.log(G.message)}}function a(){console.log("onopen");D=true}function C(){console.log("onclose")}function b(){console.log("onerror")}d();function g(){B=window.innerWidth;e=window.innerHeight;console.log(B);t=0;s=0;m.width=B;m.height=e;m.style.width=B;m.style.height=e;y=B/(p+1);r=e/(n+1);if(y>r){y=r}else{r=y}s=(e-r*(n+1))/2;t=(B-y*(p+1))/2;o=y*0.4}function v(){for(i=0;i<n;i++){for(j=0;j<p;j++){var F=y*(j+1),G=r*(i+1);u(F,G,o,k(i,j))}}setTimeout(v,1000/A)}function k(K,H){var J=q[(K*n+H)+0],I=q[(K*n+H)+1],F=q[(K*n+H)+2],G=F|(I<<8)|(J<<16);return"#"+G.toString(16)}function u(G,I,F,H){h.beginPath();h.arc(G+t,I+s,F,0,2*Math.PI,false);h.fillStyle=H;h.fill();h.lineWidth=2;h.strokeStyle="#111111";h.stroke()}function w(F){try{z=new WebSocket(F);z.onopen=socket_onopen;z.onclose=E;z.onerror=f;z.onmessage=function(H){websocket_onmessage(H)}}catch(G){SIGNAL_DEBUG&&console.log("WEBSOCKET CONNECT ERROR");SIGNAL_DEBUG&&console.log(G.message)}}function x(){l&&console.log("WEBSOCKET OPEN");z=this}function c(F){l&&console.log("WEBSOCKET ONMESSAGE");console.log(F.data)}function E(F){l&&console.log("WEBSOCKET ONCLOSE");z=null}function f(F){l&&console.log("WEBSOCKET ONERROR");l&&console.log(F.message)}g();v();document.getElementsByTagName("BODY")[0].onresize=g;w("ws://localhost:8080")};