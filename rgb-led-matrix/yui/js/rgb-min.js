function init(){rgb_led_matrix_init()}function rgb_led_matrix_init(){var m=16,k=9,u=1,x=false,n=new Uint8Array(m*k*3),h=document.getElementById("matrix"),e=h.getContext("2d"),v=window.innerWidth,d=window.innerHeight,t=v/(m+1),o=d/(k+1),l=t*0.4,q=0,p=0;function f(){v=window.innerWidth;d=window.innerHeight;console.log(v);q=0;p=0;h.width=v;h.height=d;h.style.width=v;h.style.height=d;t=v/(m+1);o=d/(k+1);if(t>o){t=o}else{o=t}p=(d-o*(k+1))/2;q=(v-t*(m+1))/2;l=t*0.4}function s(){for(i=0;i<k;i++){for(j=0;j<m;j++){var z=t*(j+1),A=o*(i+1);r(z,A,l,g(i,j))}}setTimeout(s,1000/u)}function g(D,A){var C=n[(D*k+A)+0],B=n[(D*k+A)+1],y=n[(D*k+A)+2],z=y|(B<<8)|(C<<16);return"#"+z.toString(16)}function r(A,C,z,B){e.beginPath();e.arc(A+q,C+p,z,0,2*Math.PI,false);e.fillStyle=B;e.fill();e.lineWidth=2;e.strokeStyle="#111111";e.stroke()}f();s();document.getElementsByTagName("BODY")[0].onresize=f;function c(y){y="ws://localhost:5000";try{socket=new WebSocket(y);socket.onopen=a;socket.onclose=w;socket.onerror=b;socket.onmessage=function(A){socket_onmessage(A)}}catch(z){console.log("CONNECT ERROR");console.log(z.message)}}function a(){console.log("onopen");x=true}function w(){console.log("onclose")}function b(){console.log("onerror")}c()};